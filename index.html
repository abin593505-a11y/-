<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RS å¥–åŠ± Â· è¯æœ¯ä»…é¢å¤–é‡‘é¢ ğŸ„ğŸ’°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 50%, #ffd93d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .input-glow:focus {
            box-shadow: 0 0 30px rgba(245, 87, 108, 0.3);
            border-color: rgba(245, 87, 108, 0.5);
        }
        .reward-card {
            background: linear-gradient(135deg, rgba(245, 87, 108, 0.1) 0%, rgba(255, 217, 61, 0.1) 100%);
            border: 1px solid rgba(245, 87, 108, 0.2);
        }
        .btn-primary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(245, 87, 108, 0.4);
        }
        .btn-copy {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transition: all 0.3s ease;
        }
        .btn-copy:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(79, 172, 254, 0.4);
        }
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            transition: all 0.3s ease;
        }
        .btn-success:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.4);
        }
        .coin-float {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .number-animate {
            transition: all 0.3s ease;
        }
        .sparkle {
            position: absolute;
            pointer-events: none;
            animation: sparkle 1s linear forwards;
        }
        @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(1.5) rotate(180deg); opacity: 0; }
        }
        .script-box {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            white-space: pre-line;
        }
        .script-box:hover {
            border-color: rgba(245, 87, 108, 0.3);
            background: rgba(0, 0, 0, 0.4);
        }
        .bonus-input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 217, 61, 0.3);
        }
        .bonus-input:focus {
            border-color: #ffd93d;
            box-shadow: 0 0 20px rgba(255, 217, 61, 0.3);
        }
        .language-tab {
            transition: all 0.2s ease;
        }
        .language-tab.active {
            background: rgba(255,255,255,0.15);
            border-color: #f5576c;
            color: white;
        }
        .copy-btn-float {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 12px;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            transition: all 0.2s ease;
            white-space: nowrap;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .copy-btn-float:hover {
            transform: scale(1.03);
            box-shadow: 0 6px 15px rgba(79,172,254,0.5);
        }
        .extra-highlight {
            background: rgba(255, 217, 61, 0.15);
            border-radius: 8px;
            padding: 0.1rem 0.3rem;
        }
    </style>
</head>
<body class="text-white overflow-x-hidden">

    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 text-6xl opacity-10 coin-float" style="animation-delay: 0s;">ğŸ’°</div>
        <div class="absolute top-40 right-20 text-4xl opacity-10 coin-float" style="animation-delay: 0.5s;">ğŸ„</div>
        <div class="absolute bottom-32 left-1/4 text-5xl opacity-10 coin-float" style="animation-delay: 1s;">ğŸ’</div>
        <div class="absolute bottom-20 right-10 text-3xl opacity-10 coin-float" style="animation-delay: 1.5s;">ğŸ”¥</div>
    </div>

    <div class="relative z-10 container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- æ ‡é¢˜åŒº - å¼ºè°ƒè¯æœ¯åªæ˜¾ç¤ºé¢å¤–é‡‘é¢ -->
        <div class="text-center mb-6">
            <div class="inline-flex items-center gap-2 mb-4 px-4 py-2 rounded-full bg-white/10 border border-white/20 text-sm font-medium">
                <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                æ´»åŠ¨æ—¶é—´ï¼š2æœˆ23æ—¥ - 3æœˆ1æ—¥ Â· è¯æœ¯é‡‘é¢ = é¢å¤–å¥–åŠ±
            </div>
            <h1 class="text-4xl md:text-6xl font-black mb-4">
                <span class="gradient-text">RS é¢å¤–ä¸“å±è¯æœ¯</span>
                <span class="text-3xl md:text-5xl">âœ¨ğŸ„</span>
            </h1>
            <p class="text-gray-300 text-lg">åŸºç¡€10%å›ºå®š + è‡ªå¡«é¢å¤– Â· å¤åˆ¶çš„è¯æœ¯ä»…åŒ…å«<span class="text-yellow-400 font-bold extra-highlight">é¢å¤–å¥–åŠ±é‡‘é¢</span> (ä¸æ˜¯æ€»å¥–åŠ±)</p>
        </div>

        <!-- å¥–åŠ±è¯´æ˜å¡ç‰‡ (åŠ¨æ€) -->
        <div class="glass-panel rounded-3xl p-6 mb-6">
            <div class="grid md:grid-cols-3 gap-4 text-center items-center">
                <div class="reward-card rounded-2xl p-4">
                    <div class="text-3xl font-bold text-pink-400 mb-1">10%</div>
                    <div class="text-sm text-gray-400">åŸºç¡€å¥–åŠ± (å›ºå®š)</div>
                </div>
                <div class="flex items-center justify-center text-2xl text-yellow-400 font-bold">+</div>
                <div class="reward-card rounded-2xl p-4 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-500/10 rounded-full blur-xl"></div>
                    <div class="relative">
                        <div class="text-3xl font-bold text-yellow-400 mb-1" id="bonusRateDisplay">5%</div>
                        <div class="text-sm text-gray-400">é¢å¤–å¥–åŠ± (å¯è°ƒ)</div>
                    </div>
                </div>
            </div>
            <div class="mt-3 text-center">
                <div class="text-2xl font-bold text-white">
                    = æ€»è®¡ <span class="text-4xl gradient-text" id="totalRateDisplay">15%</span> å¥–åŠ±ï¼ (è¯æœ¯åªç”¨é¢å¤–)
                </div>
            </div>
        </div>

        <!-- è®¡ç®—å™¨ä¸»ä½“ + å¤åˆ¶æŒ‰é’®ç´§é‚»é‡‘é¢ -->
        <div class="glass-panel rounded-3xl p-6 md:p-8 mb-6">
            <!-- ç¬¬ä¸€è¡Œï¼šå……å€¼é‡‘é¢ + å¤åˆ¶é¢å¤–å¥–åŠ±æŒ‰é’® -->
            <div class="flex flex-wrap items-end gap-4 mb-6">
                <!-- å¥½å‹å……å€¼åŒºåŸŸ -->
                <div class="flex-1 min-w-[240px]">
                    <label class="block text-gray-300 mb-2 text-sm font-medium flex items-center gap-2">
                        <span>ğŸ’° å¥½å‹å……å€¼é‡‘é¢ (RM)</span>
                    </label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl font-bold">RM</span>
                        <input 
                            type="number" 
                            id="amountInput" 
                            placeholder="ä¾‹å¦‚ï¼š1000" 
                            class="w-full bg-black/30 border border-white/20 rounded-2xl py-4 pl-12 pr-4 text-2xl font-bold text-white placeholder-gray-600 input-glow focus:outline-none transition-all"
                            oninput="calculate()"
                            min="0"
                            step="10"
                            value="150"
                        >
                    </div>
                    <!-- å¿«æ·é‡‘é¢ -->
                    <div class="flex flex-wrap gap-2 mt-3">
                        <button onclick="setAmount(50)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-pink-500/50 transition-all text-xs">RM 50</button>
                        <button onclick="setAmount(100)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-pink-500/50 transition-all text-xs">RM 100</button>
                        <button onclick="setAmount(150)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-pink-500/50 transition-all text-xs">RM 150</button>
                        <button onclick="setAmount(500)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-pink-500/50 transition-all text-xs">RM 500</button>
                        <button onclick="setAmount(1000)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-pink-500/50 transition-all text-xs">RM 1k</button>
                    </div>
                </div>

                <!-- å¤åˆ¶é¢å¤–å¥–åŠ±æŒ‰é’®ç»„ (æ­£æ–‡å­—ï¼šå¤åˆ¶é¢å¤–å¥–åŠ±) -->
                <div class="flex flex-col gap-2 pb-1">
                    <span class="text-gray-400 text-xs font-medium mb-1">ğŸ“‹ å¤åˆ¶é¢å¤–å¥–åŠ±è¯æœ¯</span>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="copyBonusScript('zh')" class="copy-btn-float" title="å¤åˆ¶ä¸­æ–‡è¯æœ¯ (ä»…é¢å¤–é‡‘é¢)">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                        <button onclick="copyBonusScript('en')" class="copy-btn-float" title="å¤åˆ¶è‹±æ–‡è¯æœ¯ (ä»…é¢å¤–é‡‘é¢)">ğŸ‡¬ğŸ‡§ English</button>
                        <button onclick="copyBonusScript('ms')" class="copy-btn-float" title="å¤åˆ¶é©¬æ¥è¯­è¯æœ¯ (ä»…é¢å¤–é‡‘é¢)">ğŸ‡²ğŸ‡¾ Melayu</button>
                    </div>
                    <p class="text-xs text-yellow-300/80 mt-1">âœ¨ é‡‘é¢ = é¢å¤–å¥–åŠ± (5%)</p>
                </div>
            </div>

            <!-- ç¬¬äºŒè¡Œï¼šé¢å¤–ç™¾åˆ†æ¯”è¾“å…¥ -->
            <div class="mb-8">
                <label class="block text-gray-300 mb-2 text-sm font-medium flex items-center gap-2">
                    <span>âœ¨ é¢å¤–å¥–åŠ±ç™¾åˆ†æ¯” (å†³å®šè¯æœ¯é‡‘é¢)</span>
                    <span class="text-xs bg-yellow-500/20 text-yellow-300 px-2 py-0.5 rounded-full">è‡ªå®šä¹‰</span>
                </label>
                <div class="relative">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-yellow-400 text-xl font-bold">%</span>
                    <input 
                        type="number" 
                        id="bonusPercentInput" 
                        placeholder="è¾“å…¥ç™¾åˆ†æ¯”ï¼Œä¾‹å¦‚ï¼š5" 
                        class="w-full bg-black/30 bonus-input rounded-2xl py-4 pl-12 pr-4 text-2xl font-bold text-yellow-400 placeholder-yellow-700 focus:outline-none transition-all"
                        oninput="calculate()"
                        min="0"
                        max="100"
                        step="0.1"
                        value="5"
                    >
                </div>
                <div class="flex flex-wrap gap-2 mt-3">
                    <button onclick="setBonusPercent(2.5)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-yellow-500/50 transition-all text-xs">+2.5%</button>
                    <button onclick="setBonusPercent(5)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-yellow-500/50 transition-all text-xs">+5%</button>
                    <button onclick="setBonusPercent(7.5)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-yellow-500/50 transition-all text-xs">+7.5%</button>
                    <button onclick="setBonusPercent(10)" class="px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 hover:border-yellow-500/50 transition-all text-xs">+10%</button>
                </div>
            </div>

            <!-- è®¡ç®—ç»“æœå±•ç¤º (å¼ºè°ƒé¢å¤–é‡‘é¢) -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-gradient-to-br from-pink-500/20 to-purple-600/20 rounded-2xl p-6 border border-pink-500/30 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-pink-500/20 rounded-full blur-3xl -mr-16 -mt-16"></div>
                    <div class="relative z-10">
                        <div class="text-gray-300 text-sm mb-1">æ‚¨å¯è·å¾—æ€»å¥–åŠ± (åŸºç¡€+é¢å¤–)</div>
                        <div class="text-4xl md:text-5xl font-black gradient-text number-animate" id="totalReward">RM 0.00</div>
                        <div class="text-pink-300/80 text-sm mt-1" id="totalRateDetail">(10% + 5% = 15%)</div>
                    </div>
                </div>
                <div class="space-y-3">
                    <div class="flex justify-between items-center p-3 rounded-xl bg-white/5">
                        <span class="text-gray-400">åŸºç¡€å¥–åŠ± (10%)</span>
                        <span class="font-bold text-pink-400" id="baseReward">RM 0.00</span>
                    </div>
                    <div class="flex justify-between items-center p-3 rounded-xl bg-white/5 border-2 border-yellow-500/30">
                        <span class="text-gray-300 font-medium">âœ¨ é¢å¤–å¥–åŠ± (<span id="bonusPercentLabel">5</span>%) <span class="text-xs text-yellow-400">(è¯æœ¯é‡‘é¢)</span></span>
                        <span class="font-bold text-yellow-400 text-xl" id="bonusReward">RM 0.00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸‰è¯­è¯æœ¯é¢„è§ˆå¡ç‰‡ (ä»…é¢å¤–é‡‘é¢) -->
        <div class="glass-panel rounded-3xl p-6">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                <span>ğŸŒ</span> ä¸‰è¯­è¯æœ¯é¢„è§ˆ (é‡‘é¢ = é¢å¤–å¥–åŠ±)
            </h3>
            <div class="grid md:grid-cols-3 gap-4">
                <!-- ä¸­æ–‡ -->
                <div class="bg-white/5 rounded-xl p-4 border border-white/10">
                    <div class="text-sm text-blue-300 mb-2">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</div>
                    <div id="previewChinese" class="text-sm text-gray-200 leading-relaxed">Tahniah! Ganjaran *RM7.50* anda telah dikreditkan ke akaun RS anda. Jangan lupa untuk menyemaknya! P/Sï¼š*â€œSetitis demi setitis, air masin bertukar manisâ€*, jalan perlahan-lahan, makin untung makin banyak! ğŸ’ªğŸ»ğŸ˜„</div>
                </div>
                <!-- è‹±æ–‡ -->
                <div class="bg-white/5 rounded-xl p-4 border border-white/10">
                    <div class="text-sm text-blue-300 mb-2">ğŸ‡¬ğŸ‡§ è‹±æ–‡</div>
                    <div id="previewEnglish" class="text-sm text-gray-200 leading-relaxed">Congratulations! Your *RM7.50* reward has been credited to your RS account. Don't forget to check it! P/S: *"Little by little, the salty water turns sweet"*, slow and steady, more profit! ğŸ’ªğŸ»ğŸ˜„</div>
                </div>
                <!-- é©¬æ¥è¯­ -->
                <div class="bg-white/5 rounded-xl p-4 border border-white/10">
                    <div class="text-sm text-blue-300 mb-2">ğŸ‡²ğŸ‡¾ é©¬æ¥è¯­</div>
                    <div id="previewMalay" class="text-sm text-gray-200 leading-relaxed">Tahniah! Ganjaran *RM7.50* anda telah dikreditkan ke akaun RS anda. Jangan lupa untuk menyemaknya! P/Sï¼š*â€œSetitis demi setitis, air masin bertukar manisâ€*, jalan perlahan-lahan, makin untung makin banyak! ğŸ’ªğŸ»ğŸ˜„</div>
                </div>
            </div>
            <p class="text-gray-500 text-xs mt-4">ç‚¹å‡»ä¸Šæ–¹ğŸ‡¨ğŸ‡³ğŸ‡¬ğŸ‡§ğŸ‡²ğŸ‡¾æŒ‰é’®å³å¯å¤åˆ¶å¯¹åº”è¯­è¨€çš„ä¸€å¥è¯è¯æœ¯ï¼Œå…¶ä¸­é‡‘é¢<span class="text-yellow-400">*</span>å†…ä¸º<span class="font-bold">é¢å¤–å¥–åŠ±</span> (ä¸æ˜¯æ€»å¥–åŠ±)ã€‚</p>
        </div>

        <!-- åº•éƒ¨æç¤º -->
        <div class="mt-8 text-center text-gray-400 text-sm">
            <p>åŸºç¡€10%å›ºå®š Â· é¢å¤–è‡ªå¡« Â· è¯æœ¯é‡‘é¢=é¢å¤–å¥–åŠ± Â· ä¸‰è¯­ä¸€é”®å¤åˆ¶</p>
            <p class="mt-2 text-xs opacity-60">* æœ€ç»ˆè§£é‡Šæƒå½’ RS å®˜æ–¹æ‰€æœ‰</p>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div id="toast" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-2xl transform translate-x-full opacity-0 transition-all duration-300 flex items-center gap-2 z-50 font-medium">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
        <span id="toastMsg">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼</span>
    </div>

    <script>
        // æ ¸å¿ƒè®¡ç®—
        function calculate() {
            const amountInput = document.getElementById('amountInput');
            const bonusInput = document.getElementById('bonusPercentInput');
            
            let amount = parseFloat(amountInput.value) || 0;
            if (amount < 0) amount = 0;
            
            let bonusPercent = parseFloat(bonusInput.value) || 0;
            if (bonusPercent < 0) bonusPercent = 0;
            if (bonusPercent > 100) bonusPercent = 100;
            
            const baseRate = 0.10;
            const bonusRate = bonusPercent / 100;
            const totalRate = baseRate + bonusRate;
            
            const baseReward = amount * baseRate;
            const bonusReward = amount * bonusRate;
            const totalReward = amount * totalRate;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('totalReward').textContent = 'RM ' + totalReward.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('baseReward').textContent = 'RM ' + baseReward.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('bonusReward').textContent = 'RM ' + bonusReward.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            
            document.getElementById('bonusPercentLabel').textContent = bonusPercent.toFixed(1);
            document.getElementById('bonusRateDisplay').textContent = bonusPercent.toFixed(1) + '%';
            document.getElementById('totalRateDisplay').textContent = (totalRate * 100).toFixed(1) + '%';
            document.getElementById('totalRateDetail').innerHTML = `(10% + ${bonusPercent.toFixed(1)}% = ${(totalRate*100).toFixed(1)}%)`;
            
            // æ›´æ–°ä¸‰è¯­é¢„è§ˆ (ä½¿ç”¨é¢å¤–å¥–åŠ±é‡‘é¢)
            updateLanguagePreviews(amount, bonusReward, bonusPercent);  // ä¼ å…¥ bonusReward è€Œä¸æ˜¯ totalReward
        }

        // ç”Ÿæˆä¸‰è¯­ä¸€å¥è¯è¯æœ¯ (é‡‘é¢ = é¢å¤–å¥–åŠ±)
        function getLanguageText(lang, amountNum, bonusRewardNum, bonusPercent) {
            const rewardStr = 'RM ' + bonusRewardNum.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            // åŸºç¡€å¥å­ç»“æ„ï¼Œä»…å¥–åŠ±é‡‘é¢å˜åŠ¨ (bonusReward)
            if (lang === 'zh') {
                return `Tahniah! Ganjaran *${rewardStr}* anda telah dikreditkan ke akaun RS anda. Jangan lupa untuk menyemaknya! P/Sï¼š*â€œSetitis demi setitis, air masin bertukar manisâ€*, jalan perlahan-lahan, makin untung makin banyak! ğŸ’ªğŸ»ğŸ˜„`;
            } else if (lang === 'en') {
                return `Congratulations! Your *${rewardStr}* reward has been credited to your RS account. Don't forget to check it! P/S: *"Little by little, the salty water turns sweet"*, slow and steady, more profit! ğŸ’ªğŸ»ğŸ˜„`;
            } else { // ms
                return `Tahniah! Ganjaran *${rewardStr}* anda telah dikreditkan ke akaun RS anda. Jangan lupa untuk menyemaknya! P/Sï¼š*â€œSetitis demi setitis, air masin bertukar manisâ€*, jalan perlahan-lahan, makin untung makin banyak! ğŸ’ªğŸ»ğŸ˜„`;
            }
        }

        // æ›´æ–°é¢„è§ˆåŒº (ä½¿ç”¨é¢å¤–å¥–åŠ±é‡‘é¢)
        function updateLanguagePreviews(amount, bonusReward, bonusPercent) {
            const bonus = bonusReward; // æ˜ç¡®æ˜¯é¢å¤–å¥–åŠ±
            document.getElementById('previewChinese').textContent = getLanguageText('zh', amount, bonus, bonusPercent);
            document.getElementById('previewEnglish').textContent = getLanguageText('en', amount, bonus, bonusPercent);
            document.getElementById('previewMalay').textContent = getLanguageText('ms', amount, bonus, bonusPercent);
        }

        // å¤åˆ¶æŒ‡å®šè¯­è¨€çš„è¯æœ¯ (ä»…é¢å¤–é‡‘é¢)
        function copyBonusScript(lang) {
            const amount = parseFloat(document.getElementById('amountInput').value) || 0;
            const bonusPercent = parseFloat(document.getElementById('bonusPercentInput').value) || 0;
            const bonusRate = bonusPercent / 100;
            const bonusReward = amount * bonusRate;  // åªå–é¢å¤–å¥–åŠ±
            
            const textToCopy = getLanguageText(lang, amount, bonusReward, bonusPercent);
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                const langName = {zh:'ä¸­æ–‡', en:'è‹±æ–‡', ms:'é©¬æ¥è¯­'}[lang];
                showToast(`ğŸ‡¨ğŸ‡³ğŸ‡¬ğŸ‡§ğŸ‡²ğŸ‡¾ ${langName} è¯æœ¯ (é¢å¤–å¥–åŠ±) å·²å¤åˆ¶`);
                createSparkles(event?.clientX || window.innerWidth/2, event?.clientY || window.innerHeight/2);
            }).catch(() => {
                // é™çº§
                const textarea = document.createElement('textarea');
                textarea.value = textToCopy;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast('è¯æœ¯å·²å¤åˆ¶ (é™çº§)');
            });
        }

        // å¿«æ·é‡‘é¢
        function setAmount(amount) {
            document.getElementById('amountInput').value = amount;
            calculate();
            highlight('amountInput');
        }
        function setBonusPercent(percent) {
            document.getElementById('bonusPercentInput').value = percent;
            calculate();
            highlight('bonusPercentInput');
        }
        function highlight(id) {
            const el = document.getElementById(id);
            el.classList.add('ring-2', 'ring-pink-500', 'ring-opacity-50');
            setTimeout(() => el.classList.remove('ring-2', 'ring-pink-500', 'ring-opacity-50'), 300);
        }

        // Toast
        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMsg').textContent = msg;
            toast.classList.remove('translate-x-full', 'opacity-0');
            setTimeout(() => toast.classList.add('translate-x-full', 'opacity-0'), 2500);
        }

        // é—ªå…‰
        function createSparkles(x, y) {
            for (let i = 0; i < 6; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                sparkle.style.width = '8px';
                sparkle.style.height = '8px';
                sparkle.style.background = ['#f093fb', '#f5576c', '#ffd93d', '#4facfe'][Math.floor(Math.random() * 4)];
                sparkle.style.borderRadius = '50%';
                sparkle.style.position = 'fixed';
                sparkle.style.zIndex = '9999';
                sparkle.style.transform = `translate(${Math.random()*40-20}px, ${Math.random()*40-20}px)`;
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 900);
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            setAmount(150);      // é»˜è®¤150
            setBonusPercent(5);  // é»˜è®¤5%
            calculate();
        });

        // å›è½¦
        document.getElementById('amountInput').addEventListener('keypress', (e) => e.key === 'Enter' && calculate());
        document.getElementById('bonusPercentInput').addEventListener('keypress', (e) => e.key === 'Enter' && calculate());
    </script>
</body>
</html>
